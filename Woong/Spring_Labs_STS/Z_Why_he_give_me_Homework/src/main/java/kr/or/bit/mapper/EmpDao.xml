<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.or.bit.dao.EmpDao">

	<!-- getBoardList(전체조회) -->
	<select id="getEmpAllList" resultType="kr.or.bit.dto.EmpDto">
		select empno , ename, job, nvl(mgr,0) as mgr , hiredate , sal,nvl(comm,0) as comm , deptno 
		from emp 
		order by empno
		<if test="column != null">
		where empno=${empno}
		
		</if>
	</select>

	<!-- insertBoard(글 입력하기) -->
	<insert id="insertEmp" parameterType="kr.or.bit.dto.EmpDto">
		insert into emp(empno, ename, job, mgr, hiredate, sal, comm, deptno) 
		values(	#{empno}, #{ename}, #{job}, #{mgr}, #{hiredate}, #{sal}, #{comm}, #{deptno})
	</insert>

	<!-- updateBoard(글수정하기) -->
	<update id="updateEmp" parameterType="kr.or.bit.dto.EmpDto">
		update emp
		set empno=#{empno}, 
			ename=#{ename}, 
			job=#{job}, 
			mgr=#{mgr}, 
			hiredate=#{hiredate}, 
			sal=#{sal}, 
			comm=#{comm}, 
			deptno=#{deptno}
		where empno=#{empno}
	</update>

	<!-- deleteBoard(글삭제하기) -->
	<delete id="deleteEmp" parameterType="kr.or.bit.dto.EmpDto">
		delete from emp where empno=#{empno}
	</delete>
	 

</mapper>